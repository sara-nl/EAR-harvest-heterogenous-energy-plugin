<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>EAR: EAR commands</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EAR
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">EAR commands </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>EAR offers the following commands:</p><ul>
<li>Commands to analyze data stored in the DB: eacct and ereport</li>
<li>Commands to control and temporally modify cluster settings: econtrol</li>
<li>Commands to create/update the DB: ear_create_database</li>
</ul>
<p>All these commands read the EAR configurarion file (ear.conf) to determine if the user is an authorized (or not user). Root is a special case, it doesn't need to be included in the list of authorized users. Some options are disables when the user is not authorized.</p>
<h1>Energy Account (eacct)</h1>
<p>The eacct command shows accounting information stored in the EAR DB for jobs (and step) IDs. It provides the following options. </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Usage: eacct [Optional parameters]</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    Optional parameters: </div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;        -h  displays this information</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;        -u  specifies the user whose applications will be retrieved. Only available to privileged users. [default for authorized users: all users]</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;        -j  specifies the job id and step id to retrieve with the format [jobid.stepid]. A user can only retrieve its own jobs unless said user is privileged. [default: all jobs]</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;        -l  shows the information for each node for each job instead of the global statistics for said job.</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;        -n  specifies the number of jobs to be shown, starting from the most recent one. [default: all jobs]</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;        -t  specifies the energy tag to filter the retrieved jobs. [default: all tags]</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;        -c  specifies the file to save the output information in csv format.</div></div><!-- fragment --><h1>Energy report (ereport)</h1>
<p>The ereport command creates reports from the information stored in the EAR DB concerning energy. ... Usage: ereport [Optional parameters] Optional parameters: -s start_time indicates the starting period from which the energy information will be computed. Format: YYYY-MM-DD. Default: 1970-01-01. -e end_time indicates the end of the period from which the energy information will be computed. Format: YYYY-MM-DD. Default: current time. -n node_name indicates from which node the energy information will be computed. Default: none (all nodes computed together). 'all' option will show all nodes computed individually. -u user_name requests the energy consumed by a user in the selected period of time. Default: none (not filtering by user). 'all' option will show all users individually. -t <a class="el" href="structenergy__tag.html">energy_tag</a> requests the energy consumed filtering by the selected energy tag. Default: none (not filtering by <a class="el" href="structenergy__tag.html">energy_tag</a>). 'all' option will show all tags individually. -h displays this information</p>
<h1>Energy control (econtrol)</h1>
<p>The econtrol command modifies cluster settings (temporally) related to power policy settings. These options are sent to all the nodes in the cluster.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Usage: econtrol [options]</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    --set-freq  newfreq         -&gt;sets the frequency of all nodes to the requested one</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    --set-def-freq  newfreq     -&gt;sets the default frequency</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    --set-max-freq  newfreq     -&gt;sets the maximum frequency</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    --inc-th    new_th          -&gt;increases the threshold for all nodes</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    --red-def-freq  reduction   -&gt;reduces the default frequency</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    --restore-conf              -&gt;restores the configuration to all nodes</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    --ping                      -&gt;pings all nodes. Additionally, --ping=node_name pings node_name individually</div></div><!-- fragment --><h1>Database commands</h1>
<ul>
<li>ear_create_database: Creates the EAR DB used for accounting and for the global energy control. Requires root access to the MySQL server. It reads the ear.conf to get connection details and DB name. </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>

\hypertarget{metrics_8c}{}\section{src/library/metrics/metrics.c File Reference}
\label{metrics_8c}\index{src/library/metrics/metrics.\+c@{src/library/metrics/metrics.\+c}}
{\ttfamily \#include $<$errno.\+h$>$}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$papi.\+h$>$}\\*
{\ttfamily \#include $<$common/config.\+h$>$}\\*
{\ttfamily \#include $<$metrics/metrics.\+h$>$}\\*
{\ttfamily \#include $<$library/metrics/metrics.\+h$>$}\\*
{\ttfamily \#include $<$common/types/signature.\+h$>$}\\*
{\ttfamily \#include $<$daemon/eard\+\_\+api.\+h$>$}\\*
{\ttfamily \#include $<$common/ear\+\_\+verbose.\+h$>$}\\*
{\ttfamily \#include $<$common/states.\+h$>$}\\*
{\ttfamily \#include $<$common/math\+\_\+operations.\+h$>$}\\*
{\ttfamily \#include $<$library/common/externs.\+h$>$}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{metrics_8c_a02eb836153a2dd28ae0be46cf13bf7ae}{L\+OO}~0
\item 
\#define \hyperlink{metrics_8c_ac4d049774203601b4c2d477b4f46dbe9}{A\+PP}~1
\item 
\#define \hyperlink{metrics_8c_a6b55520676ee973f0af146e1887b3165}{S\+I\+G\+\_\+\+B\+E\+G\+IN}~0
\item 
\#define \hyperlink{metrics_8c_a03e6f53a2e8b6a33072dc9216fcd91fb}{S\+I\+G\+\_\+\+E\+ND}~1
\item 
\#define \hyperlink{metrics_8c_a3f143295490c4cdd54adc28f5404b181}{R\+A\+P\+L\+\_\+\+D\+R\+A\+M0}~0
\item 
\#define \hyperlink{metrics_8c_a3dc515c1c0ea42948a42841963390c05}{R\+A\+P\+L\+\_\+\+D\+R\+A\+M1}~1
\item 
\#define \hyperlink{metrics_8c_a8621276a3685dbd5fe3d9df7750667c0}{R\+A\+P\+L\+\_\+\+P\+A\+C\+K\+A\+G\+E0}~2
\item 
\#define \hyperlink{metrics_8c_a84b21f6cf470c861257d1895590f14cc}{R\+A\+P\+L\+\_\+\+P\+A\+C\+K\+A\+G\+E1}~3
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
long long \hyperlink{metrics_8c_a98d563ae122e1dfe52d0308ed42e5007}{metrics\+\_\+time} ()
\begin{DoxyCompactList}\small\item\em Returns the current time in usecs. \end{DoxyCompactList}\item 
int \hyperlink{metrics_8c_a24767d0d2a7b3712eb9c98d7adc29f51}{metrics\+\_\+init} ()
\begin{DoxyCompactList}\small\item\em Initializes local metrics as well as daemon\textquotesingle{}s metrics. \end{DoxyCompactList}\item 
void \hyperlink{metrics_8c_a0d6baf60a5cc28e873d27a122f2a87e2}{metrics\+\_\+dispose} (\hyperlink{signature_8h_a3387c90f9aa9243c926866ee8ce61917}{signature\+\_\+t} $\ast$metrics, \hyperlink{generic_8h_a718b4eb2652c286f4d42dc18a8e71a1a}{ulong} procs)
\begin{DoxyCompactList}\small\item\em Stops metrics collection and computes the accumulated data. \end{DoxyCompactList}\item 
void \hyperlink{metrics_8c_abd24c5732be4105f596d0c3f536dbfc6}{metrics\+\_\+compute\+\_\+signature\+\_\+begin} ()
\begin{DoxyCompactList}\small\item\em Restarts the current metrics and recomputes the signature. \end{DoxyCompactList}\item 
int \hyperlink{metrics_8c_a8cedbba31564ce1d1cfd8654558f3d27}{metrics\+\_\+compute\+\_\+signature\+\_\+finish} (\hyperlink{signature_8h_a3387c90f9aa9243c926866ee8ce61917}{signature\+\_\+t} $\ast$metrics, \hyperlink{generic_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint} iterations, \hyperlink{generic_8h_a718b4eb2652c286f4d42dc18a8e71a1a}{ulong} min\+\_\+time\+\_\+us, \hyperlink{generic_8h_a718b4eb2652c286f4d42dc18a8e71a1a}{ulong} procs)
\item 
long long \hyperlink{metrics_8c_a49833d993c2d36d13e8ce8be532f47c4}{metrics\+\_\+usecs\+\_\+diff} (long long end, long long \hyperlink{coeffs__quality_8c_af7bb7d0197f29075aee8c7d87d38c5d5}{init})
\begin{DoxyCompactList}\small\item\em Returns the difference between times in usecs. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
char $\ast$ \hyperlink{metrics_8c_adbd38436c25bc604b1a48464727d4179}{\+\_\+\+\_\+\+H\+O\+S\+T\+\_\+\+\_\+}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{metrics.\+c@{metrics.\+c}!A\+PP@{A\+PP}}
\index{A\+PP@{A\+PP}!metrics.\+c@{metrics.\+c}}
\subsubsection[{\texorpdfstring{A\+PP}{APP}}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+PP~1}\hypertarget{metrics_8c_ac4d049774203601b4c2d477b4f46dbe9}{}\label{metrics_8c_ac4d049774203601b4c2d477b4f46dbe9}
\index{metrics.\+c@{metrics.\+c}!L\+OO@{L\+OO}}
\index{L\+OO@{L\+OO}!metrics.\+c@{metrics.\+c}}
\subsubsection[{\texorpdfstring{L\+OO}{LOO}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+OO~0}\hypertarget{metrics_8c_a02eb836153a2dd28ae0be46cf13bf7ae}{}\label{metrics_8c_a02eb836153a2dd28ae0be46cf13bf7ae}
\index{metrics.\+c@{metrics.\+c}!R\+A\+P\+L\+\_\+\+D\+R\+A\+M0@{R\+A\+P\+L\+\_\+\+D\+R\+A\+M0}}
\index{R\+A\+P\+L\+\_\+\+D\+R\+A\+M0@{R\+A\+P\+L\+\_\+\+D\+R\+A\+M0}!metrics.\+c@{metrics.\+c}}
\subsubsection[{\texorpdfstring{R\+A\+P\+L\+\_\+\+D\+R\+A\+M0}{RAPL_DRAM0}}]{\setlength{\rightskip}{0pt plus 5cm}\#define R\+A\+P\+L\+\_\+\+D\+R\+A\+M0~0}\hypertarget{metrics_8c_a3f143295490c4cdd54adc28f5404b181}{}\label{metrics_8c_a3f143295490c4cdd54adc28f5404b181}
\index{metrics.\+c@{metrics.\+c}!R\+A\+P\+L\+\_\+\+D\+R\+A\+M1@{R\+A\+P\+L\+\_\+\+D\+R\+A\+M1}}
\index{R\+A\+P\+L\+\_\+\+D\+R\+A\+M1@{R\+A\+P\+L\+\_\+\+D\+R\+A\+M1}!metrics.\+c@{metrics.\+c}}
\subsubsection[{\texorpdfstring{R\+A\+P\+L\+\_\+\+D\+R\+A\+M1}{RAPL_DRAM1}}]{\setlength{\rightskip}{0pt plus 5cm}\#define R\+A\+P\+L\+\_\+\+D\+R\+A\+M1~1}\hypertarget{metrics_8c_a3dc515c1c0ea42948a42841963390c05}{}\label{metrics_8c_a3dc515c1c0ea42948a42841963390c05}
\index{metrics.\+c@{metrics.\+c}!R\+A\+P\+L\+\_\+\+P\+A\+C\+K\+A\+G\+E0@{R\+A\+P\+L\+\_\+\+P\+A\+C\+K\+A\+G\+E0}}
\index{R\+A\+P\+L\+\_\+\+P\+A\+C\+K\+A\+G\+E0@{R\+A\+P\+L\+\_\+\+P\+A\+C\+K\+A\+G\+E0}!metrics.\+c@{metrics.\+c}}
\subsubsection[{\texorpdfstring{R\+A\+P\+L\+\_\+\+P\+A\+C\+K\+A\+G\+E0}{RAPL_PACKAGE0}}]{\setlength{\rightskip}{0pt plus 5cm}\#define R\+A\+P\+L\+\_\+\+P\+A\+C\+K\+A\+G\+E0~2}\hypertarget{metrics_8c_a8621276a3685dbd5fe3d9df7750667c0}{}\label{metrics_8c_a8621276a3685dbd5fe3d9df7750667c0}
\index{metrics.\+c@{metrics.\+c}!R\+A\+P\+L\+\_\+\+P\+A\+C\+K\+A\+G\+E1@{R\+A\+P\+L\+\_\+\+P\+A\+C\+K\+A\+G\+E1}}
\index{R\+A\+P\+L\+\_\+\+P\+A\+C\+K\+A\+G\+E1@{R\+A\+P\+L\+\_\+\+P\+A\+C\+K\+A\+G\+E1}!metrics.\+c@{metrics.\+c}}
\subsubsection[{\texorpdfstring{R\+A\+P\+L\+\_\+\+P\+A\+C\+K\+A\+G\+E1}{RAPL_PACKAGE1}}]{\setlength{\rightskip}{0pt plus 5cm}\#define R\+A\+P\+L\+\_\+\+P\+A\+C\+K\+A\+G\+E1~3}\hypertarget{metrics_8c_a84b21f6cf470c861257d1895590f14cc}{}\label{metrics_8c_a84b21f6cf470c861257d1895590f14cc}
\index{metrics.\+c@{metrics.\+c}!S\+I\+G\+\_\+\+B\+E\+G\+IN@{S\+I\+G\+\_\+\+B\+E\+G\+IN}}
\index{S\+I\+G\+\_\+\+B\+E\+G\+IN@{S\+I\+G\+\_\+\+B\+E\+G\+IN}!metrics.\+c@{metrics.\+c}}
\subsubsection[{\texorpdfstring{S\+I\+G\+\_\+\+B\+E\+G\+IN}{SIG_BEGIN}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+I\+G\+\_\+\+B\+E\+G\+IN~0}\hypertarget{metrics_8c_a6b55520676ee973f0af146e1887b3165}{}\label{metrics_8c_a6b55520676ee973f0af146e1887b3165}
\index{metrics.\+c@{metrics.\+c}!S\+I\+G\+\_\+\+E\+ND@{S\+I\+G\+\_\+\+E\+ND}}
\index{S\+I\+G\+\_\+\+E\+ND@{S\+I\+G\+\_\+\+E\+ND}!metrics.\+c@{metrics.\+c}}
\subsubsection[{\texorpdfstring{S\+I\+G\+\_\+\+E\+ND}{SIG_END}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+I\+G\+\_\+\+E\+ND~1}\hypertarget{metrics_8c_a03e6f53a2e8b6a33072dc9216fcd91fb}{}\label{metrics_8c_a03e6f53a2e8b6a33072dc9216fcd91fb}


\subsection{Function Documentation}
\index{metrics.\+c@{metrics.\+c}!metrics\+\_\+compute\+\_\+signature\+\_\+begin@{metrics\+\_\+compute\+\_\+signature\+\_\+begin}}
\index{metrics\+\_\+compute\+\_\+signature\+\_\+begin@{metrics\+\_\+compute\+\_\+signature\+\_\+begin}!metrics.\+c@{metrics.\+c}}
\subsubsection[{\texorpdfstring{metrics\+\_\+compute\+\_\+signature\+\_\+begin()}{metrics_compute_signature_begin()}}]{\setlength{\rightskip}{0pt plus 5cm}void metrics\+\_\+compute\+\_\+signature\+\_\+begin (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{metrics_8c_abd24c5732be4105f596d0c3f536dbfc6}{}\label{metrics_8c_abd24c5732be4105f596d0c3f536dbfc6}


Restarts the current metrics and recomputes the signature. 

\index{metrics.\+c@{metrics.\+c}!metrics\+\_\+compute\+\_\+signature\+\_\+finish@{metrics\+\_\+compute\+\_\+signature\+\_\+finish}}
\index{metrics\+\_\+compute\+\_\+signature\+\_\+finish@{metrics\+\_\+compute\+\_\+signature\+\_\+finish}!metrics.\+c@{metrics.\+c}}
\subsubsection[{\texorpdfstring{metrics\+\_\+compute\+\_\+signature\+\_\+finish(signature\+\_\+t $\ast$metrics, uint iterations, ulong min\+\_\+time\+\_\+us, ulong procs)}{metrics_compute_signature_finish(signature_t *metrics, uint iterations, ulong min_time_us, ulong procs)}}]{\setlength{\rightskip}{0pt plus 5cm}int metrics\+\_\+compute\+\_\+signature\+\_\+finish (
\begin{DoxyParamCaption}
\item[{{\bf signature\+\_\+t} $\ast$}]{metrics, }
\item[{{\bf uint}}]{iterations, }
\item[{{\bf ulong}}]{min\+\_\+time\+\_\+us, }
\item[{{\bf ulong}}]{procs}
\end{DoxyParamCaption}
)}\hypertarget{metrics_8c_a8cedbba31564ce1d1cfd8654558f3d27}{}\label{metrics_8c_a8cedbba31564ce1d1cfd8654558f3d27}
\index{metrics.\+c@{metrics.\+c}!metrics\+\_\+dispose@{metrics\+\_\+dispose}}
\index{metrics\+\_\+dispose@{metrics\+\_\+dispose}!metrics.\+c@{metrics.\+c}}
\subsubsection[{\texorpdfstring{metrics\+\_\+dispose(signature\+\_\+t $\ast$metrics, ulong procs)}{metrics_dispose(signature_t *metrics, ulong procs)}}]{\setlength{\rightskip}{0pt plus 5cm}void metrics\+\_\+dispose (
\begin{DoxyParamCaption}
\item[{{\bf signature\+\_\+t} $\ast$}]{metrics, }
\item[{{\bf ulong}}]{procs}
\end{DoxyParamCaption}
)}\hypertarget{metrics_8c_a0d6baf60a5cc28e873d27a122f2a87e2}{}\label{metrics_8c_a0d6baf60a5cc28e873d27a122f2a87e2}


Stops metrics collection and computes the accumulated data. 

\index{metrics.\+c@{metrics.\+c}!metrics\+\_\+init@{metrics\+\_\+init}}
\index{metrics\+\_\+init@{metrics\+\_\+init}!metrics.\+c@{metrics.\+c}}
\subsubsection[{\texorpdfstring{metrics\+\_\+init()}{metrics_init()}}]{\setlength{\rightskip}{0pt plus 5cm}int metrics\+\_\+init (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{metrics_8c_a24767d0d2a7b3712eb9c98d7adc29f51}{}\label{metrics_8c_a24767d0d2a7b3712eb9c98d7adc29f51}


Initializes local metrics as well as daemon\textquotesingle{}s metrics. 

\index{metrics.\+c@{metrics.\+c}!metrics\+\_\+time@{metrics\+\_\+time}}
\index{metrics\+\_\+time@{metrics\+\_\+time}!metrics.\+c@{metrics.\+c}}
\subsubsection[{\texorpdfstring{metrics\+\_\+time()}{metrics_time()}}]{\setlength{\rightskip}{0pt plus 5cm}long long metrics\+\_\+time (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{metrics_8c_a98d563ae122e1dfe52d0308ed42e5007}{}\label{metrics_8c_a98d563ae122e1dfe52d0308ed42e5007}


Returns the current time in usecs. 

\index{metrics.\+c@{metrics.\+c}!metrics\+\_\+usecs\+\_\+diff@{metrics\+\_\+usecs\+\_\+diff}}
\index{metrics\+\_\+usecs\+\_\+diff@{metrics\+\_\+usecs\+\_\+diff}!metrics.\+c@{metrics.\+c}}
\subsubsection[{\texorpdfstring{metrics\+\_\+usecs\+\_\+diff(long long end, long long init)}{metrics_usecs_diff(long long end, long long init)}}]{\setlength{\rightskip}{0pt plus 5cm}long long metrics\+\_\+usecs\+\_\+diff (
\begin{DoxyParamCaption}
\item[{long long}]{end, }
\item[{long long}]{init}
\end{DoxyParamCaption}
)}\hypertarget{metrics_8c_a49833d993c2d36d13e8ce8be532f47c4}{}\label{metrics_8c_a49833d993c2d36d13e8ce8be532f47c4}


Returns the difference between times in usecs. 



\subsection{Variable Documentation}
\index{metrics.\+c@{metrics.\+c}!\+\_\+\+\_\+\+H\+O\+S\+T\+\_\+\+\_\+@{\+\_\+\+\_\+\+H\+O\+S\+T\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+\+H\+O\+S\+T\+\_\+\+\_\+@{\+\_\+\+\_\+\+H\+O\+S\+T\+\_\+\+\_\+}!metrics.\+c@{metrics.\+c}}
\subsubsection[{\texorpdfstring{\+\_\+\+\_\+\+H\+O\+S\+T\+\_\+\+\_\+}{__HOST__}}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ \+\_\+\+\_\+\+H\+O\+S\+T\+\_\+\+\_\+}\hypertarget{metrics_8c_adbd38436c25bc604b1a48464727d4179}{}\label{metrics_8c_adbd38436c25bc604b1a48464727d4179}

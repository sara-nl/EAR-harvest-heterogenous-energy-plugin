\hypertarget{log_8c}{}\section{src/common/types/log.c File Reference}
\label{log_8c}\index{src/common/types/log.\+c@{src/common/types/log.\+c}}
{\ttfamily \#include $<$time.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$unistd.\+h$>$}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$sys/types.\+h$>$}\\*
{\ttfamily \#include $<$sys/stat.\+h$>$}\\*
{\ttfamily \#include $<$fcntl.\+h$>$}\\*
{\ttfamily \#include $<$errno.\+h$>$}\\*
{\ttfamily \#include $<$common/config.\+h$>$}\\*
{\ttfamily \#include $<$common/types/log.\+h$>$}\\*
{\ttfamily \#include $<$common/ear\+\_\+verbose.\+h$>$}\\*
{\ttfamily \#include $<$daemon/eard\+\_\+api.\+h$>$}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{log_8c_a69d4676733f5e850f451942b6d901382}{L\+O\+G\+\_\+\+F\+I\+LE}~1
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{log_8c_a1608fcebe3b887b14469436b88a96f5c}{init\+\_\+log} ()
\begin{DoxyCompactList}\small\item\em Creates the log file and starts it with the current time. \end{DoxyCompactList}\item 
void \hyperlink{log_8c_ad8e08e53a579f0a72852475a665bb066}{end\+\_\+log} ()
\begin{DoxyCompactList}\small\item\em Finishes the log with the current time and closes the log file. \end{DoxyCompactList}\item 
void \hyperlink{log_8c_a0dc855ed31f2e287cca3d603a0a85dfd}{report\+\_\+new\+\_\+event} (\hyperlink{log_8h_a17129a55b5f8d7f3d58fab213ad96cac}{ear\+\_\+event\+\_\+t} $\ast$event)
\begin{DoxyCompactList}\small\item\em Given an event, it reports it ot the log file. \end{DoxyCompactList}\item 
void \hyperlink{log_8c_afd2b4cff73965658f1bb7db1baf441e7}{log\+\_\+report\+\_\+new\+\_\+freq} (\hyperlink{generic_8h_aa17a8e6cdc1860741119dc46c1777778}{job\+\_\+id} \hyperlink{structjob}{job}, \hyperlink{generic_8h_aa17a8e6cdc1860741119dc46c1777778}{job\+\_\+id} step\+\_\+id, \hyperlink{generic_8h_a718b4eb2652c286f4d42dc18a8e71a1a}{ulong} newf)
\begin{DoxyCompactList}\small\item\em Given a job id and a frequency value, reports to the log file the change of frequency because of the energy policy. \end{DoxyCompactList}\item 
void \hyperlink{log_8c_aad147a27a65f5c8380e8b2e025b0471a}{log\+\_\+report\+\_\+dynais\+\_\+off} (\hyperlink{generic_8h_aa17a8e6cdc1860741119dc46c1777778}{job\+\_\+id} \hyperlink{structjob}{job}, \hyperlink{generic_8h_aa17a8e6cdc1860741119dc46c1777778}{job\+\_\+id} sid)
\begin{DoxyCompactList}\small\item\em Given a job id, reports to the log file that the Dyn\+A\+IS has been turned off. \end{DoxyCompactList}\item 
void \hyperlink{log_8c_a3afed15e1367af6e4a08566061a72ada}{log\+\_\+report\+\_\+max\+\_\+tries} (\hyperlink{generic_8h_aa17a8e6cdc1860741119dc46c1777778}{job\+\_\+id} \hyperlink{structjob}{job}, \hyperlink{generic_8h_aa17a8e6cdc1860741119dc46c1777778}{job\+\_\+id} sid, \hyperlink{generic_8h_a718b4eb2652c286f4d42dc18a8e71a1a}{ulong} newf)
\begin{DoxyCompactList}\small\item\em Given a job id and a frequency value, reports to the log file the change of frequency because of a policy projections failure. \end{DoxyCompactList}\item 
void \hyperlink{log_8c_a9f9dcccaf4c75b2a3c8c00fcebf6e764}{log\+\_\+report\+\_\+global\+\_\+policy\+\_\+freq} (\hyperlink{generic_8h_aa17a8e6cdc1860741119dc46c1777778}{job\+\_\+id} \hyperlink{structjob}{job}, \hyperlink{generic_8h_aa17a8e6cdc1860741119dc46c1777778}{job\+\_\+id} sid, \hyperlink{generic_8h_a718b4eb2652c286f4d42dc18a8e71a1a}{ulong} newf)
\begin{DoxyCompactList}\small\item\em Given a job id and a frequency value, reports to the log file the change of frequency because of Energy Budget. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const char $\ast$ \hyperlink{log_8c_a3345164eda22be72f04d8d4c34198997}{\+\_\+\+\_\+\+N\+A\+M\+E\+\_\+\+\_\+} = \char`\"{}L\+OG\char`\"{}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{log.\+c@{log.\+c}!L\+O\+G\+\_\+\+F\+I\+LE@{L\+O\+G\+\_\+\+F\+I\+LE}}
\index{L\+O\+G\+\_\+\+F\+I\+LE@{L\+O\+G\+\_\+\+F\+I\+LE}!log.\+c@{log.\+c}}
\subsubsection[{\texorpdfstring{L\+O\+G\+\_\+\+F\+I\+LE}{LOG_FILE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+O\+G\+\_\+\+F\+I\+LE~1}\hypertarget{log_8c_a69d4676733f5e850f451942b6d901382}{}\label{log_8c_a69d4676733f5e850f451942b6d901382}


\subsection{Function Documentation}
\index{log.\+c@{log.\+c}!end\+\_\+log@{end\+\_\+log}}
\index{end\+\_\+log@{end\+\_\+log}!log.\+c@{log.\+c}}
\subsubsection[{\texorpdfstring{end\+\_\+log()}{end_log()}}]{\setlength{\rightskip}{0pt plus 5cm}void end\+\_\+log (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{log_8c_ad8e08e53a579f0a72852475a665bb066}{}\label{log_8c_ad8e08e53a579f0a72852475a665bb066}


Finishes the log with the current time and closes the log file. 

\index{log.\+c@{log.\+c}!init\+\_\+log@{init\+\_\+log}}
\index{init\+\_\+log@{init\+\_\+log}!log.\+c@{log.\+c}}
\subsubsection[{\texorpdfstring{init\+\_\+log()}{init_log()}}]{\setlength{\rightskip}{0pt plus 5cm}void init\+\_\+log (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{log_8c_a1608fcebe3b887b14469436b88a96f5c}{}\label{log_8c_a1608fcebe3b887b14469436b88a96f5c}


Creates the log file and starts it with the current time. 

If it can\textquotesingle{}t create the file it reports it to stderr \index{log.\+c@{log.\+c}!log\+\_\+report\+\_\+dynais\+\_\+off@{log\+\_\+report\+\_\+dynais\+\_\+off}}
\index{log\+\_\+report\+\_\+dynais\+\_\+off@{log\+\_\+report\+\_\+dynais\+\_\+off}!log.\+c@{log.\+c}}
\subsubsection[{\texorpdfstring{log\+\_\+report\+\_\+dynais\+\_\+off(job\+\_\+id job, job\+\_\+id sid)}{log_report_dynais_off(job_id job, job_id sid)}}]{\setlength{\rightskip}{0pt plus 5cm}void log\+\_\+report\+\_\+dynais\+\_\+off (
\begin{DoxyParamCaption}
\item[{{\bf job\+\_\+id}}]{job, }
\item[{{\bf job\+\_\+id}}]{sid}
\end{DoxyParamCaption}
)}\hypertarget{log_8c_aad147a27a65f5c8380e8b2e025b0471a}{}\label{log_8c_aad147a27a65f5c8380e8b2e025b0471a}


Given a job id, reports to the log file that the Dyn\+A\+IS has been turned off. 

\index{log.\+c@{log.\+c}!log\+\_\+report\+\_\+global\+\_\+policy\+\_\+freq@{log\+\_\+report\+\_\+global\+\_\+policy\+\_\+freq}}
\index{log\+\_\+report\+\_\+global\+\_\+policy\+\_\+freq@{log\+\_\+report\+\_\+global\+\_\+policy\+\_\+freq}!log.\+c@{log.\+c}}
\subsubsection[{\texorpdfstring{log\+\_\+report\+\_\+global\+\_\+policy\+\_\+freq(job\+\_\+id job, job\+\_\+id sid, ulong newf)}{log_report_global_policy_freq(job_id job, job_id sid, ulong newf)}}]{\setlength{\rightskip}{0pt plus 5cm}void log\+\_\+report\+\_\+global\+\_\+policy\+\_\+freq (
\begin{DoxyParamCaption}
\item[{{\bf job\+\_\+id}}]{job, }
\item[{{\bf job\+\_\+id}}]{sid, }
\item[{{\bf ulong}}]{newf}
\end{DoxyParamCaption}
)}\hypertarget{log_8c_a9f9dcccaf4c75b2a3c8c00fcebf6e764}{}\label{log_8c_a9f9dcccaf4c75b2a3c8c00fcebf6e764}


Given a job id and a frequency value, reports to the log file the change of frequency because of Energy Budget. 

\index{log.\+c@{log.\+c}!log\+\_\+report\+\_\+max\+\_\+tries@{log\+\_\+report\+\_\+max\+\_\+tries}}
\index{log\+\_\+report\+\_\+max\+\_\+tries@{log\+\_\+report\+\_\+max\+\_\+tries}!log.\+c@{log.\+c}}
\subsubsection[{\texorpdfstring{log\+\_\+report\+\_\+max\+\_\+tries(job\+\_\+id job, job\+\_\+id sid, ulong newf)}{log_report_max_tries(job_id job, job_id sid, ulong newf)}}]{\setlength{\rightskip}{0pt plus 5cm}void log\+\_\+report\+\_\+max\+\_\+tries (
\begin{DoxyParamCaption}
\item[{{\bf job\+\_\+id}}]{job, }
\item[{{\bf job\+\_\+id}}]{sid, }
\item[{{\bf ulong}}]{newf}
\end{DoxyParamCaption}
)}\hypertarget{log_8c_a3afed15e1367af6e4a08566061a72ada}{}\label{log_8c_a3afed15e1367af6e4a08566061a72ada}


Given a job id and a frequency value, reports to the log file the change of frequency because of a policy projections failure. 

\index{log.\+c@{log.\+c}!log\+\_\+report\+\_\+new\+\_\+freq@{log\+\_\+report\+\_\+new\+\_\+freq}}
\index{log\+\_\+report\+\_\+new\+\_\+freq@{log\+\_\+report\+\_\+new\+\_\+freq}!log.\+c@{log.\+c}}
\subsubsection[{\texorpdfstring{log\+\_\+report\+\_\+new\+\_\+freq(job\+\_\+id job, job\+\_\+id step\+\_\+id, ulong newf)}{log_report_new_freq(job_id job, job_id step_id, ulong newf)}}]{\setlength{\rightskip}{0pt plus 5cm}void log\+\_\+report\+\_\+new\+\_\+freq (
\begin{DoxyParamCaption}
\item[{{\bf job\+\_\+id}}]{job, }
\item[{{\bf job\+\_\+id}}]{step\+\_\+id, }
\item[{{\bf ulong}}]{newf}
\end{DoxyParamCaption}
)}\hypertarget{log_8c_afd2b4cff73965658f1bb7db1baf441e7}{}\label{log_8c_afd2b4cff73965658f1bb7db1baf441e7}


Given a job id and a frequency value, reports to the log file the change of frequency because of the energy policy. 

\index{log.\+c@{log.\+c}!report\+\_\+new\+\_\+event@{report\+\_\+new\+\_\+event}}
\index{report\+\_\+new\+\_\+event@{report\+\_\+new\+\_\+event}!log.\+c@{log.\+c}}
\subsubsection[{\texorpdfstring{report\+\_\+new\+\_\+event(ear\+\_\+event\+\_\+t $\ast$event)}{report_new_event(ear_event_t *event)}}]{\setlength{\rightskip}{0pt plus 5cm}void report\+\_\+new\+\_\+event (
\begin{DoxyParamCaption}
\item[{{\bf ear\+\_\+event\+\_\+t} $\ast$}]{event}
\end{DoxyParamCaption}
)}\hypertarget{log_8c_a0dc855ed31f2e287cca3d603a0a85dfd}{}\label{log_8c_a0dc855ed31f2e287cca3d603a0a85dfd}


Given an event, it reports it ot the log file. 



\subsection{Variable Documentation}
\index{log.\+c@{log.\+c}!\+\_\+\+\_\+\+N\+A\+M\+E\+\_\+\+\_\+@{\+\_\+\+\_\+\+N\+A\+M\+E\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+\+N\+A\+M\+E\+\_\+\+\_\+@{\+\_\+\+\_\+\+N\+A\+M\+E\+\_\+\+\_\+}!log.\+c@{log.\+c}}
\subsubsection[{\texorpdfstring{\+\_\+\+\_\+\+N\+A\+M\+E\+\_\+\+\_\+}{__NAME__}}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ \+\_\+\+\_\+\+N\+A\+M\+E\+\_\+\+\_\+ = \char`\"{}L\+OG\char`\"{}}\hypertarget{log_8c_a3345164eda22be72f04d8d4c34198997}{}\label{log_8c_a3345164eda22be72f04d8d4c34198997}

\hypertarget{lenovo__sd650_8c}{}\section{src/metrics/ipmi/energy\+\_\+node/lenovo\+\_\+sd650.c File Reference}
\label{lenovo__sd650_8c}\index{src/metrics/ipmi/energy\+\_\+node/lenovo\+\_\+sd650.\+c@{src/metrics/ipmi/energy\+\_\+node/lenovo\+\_\+sd650.\+c}}
{\ttfamily \#include $<$errno.\+h$>$}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$unistd.\+h$>$}\\*
{\ttfamily \#include $<$endian.\+h$>$}\\*
{\ttfamily \#include $<$assert.\+h$>$}\\*
{\ttfamily \#include $<$sys/types.\+h$>$}\\*
{\ttfamily \#include $<$sys/resource.\+h$>$}\\*
{\ttfamily \#include $<$freeipmi/freeipmi.\+h$>$}\\*
{\ttfamily \#include $<$metrics/custom/hardware\+\_\+info.\+h$>$}\\*
{\ttfamily \#include $<$common/ear\+\_\+verbose.\+h$>$}\\*
{\ttfamily \#include $<$common/states.\+h$>$}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{lenovo__sd650_8c_a0277c35dc57f61c36bc90ca72d0f5961}{I\+P\+M\+I\+\_\+\+R\+A\+W\+\_\+\+M\+A\+X\+\_\+\+A\+R\+GS}~(1024)
\item 
\#define \hyperlink{lenovo__sd650_8c_a77dc17cadd125b543f535000905ec2cc}{F\+U\+N\+C\+V\+E\+RB}(function)                                                          ~\hyperlink{ear__verbose_8h_a86e8221e28e01ea67f896575743a567b}{ear\+\_\+debug}(4, \char`\"{}ear\+\_\+daemon(lenovo\+\_\+wct) \char`\"{} function \char`\"{}\textbackslash{}n\char`\"{});
\item 
\#define \hyperlink{lenovo__sd650_8c_aec3315249575e40a4280d5070053e66f}{R\+A\+W\+\_\+\+S\+I\+ZE}~14
\item 
\#define \hyperlink{lenovo__sd650_8c_aec3315249575e40a4280d5070053e66f}{R\+A\+W\+\_\+\+S\+I\+ZE}~14
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{lenovo__sd650_8c_af4df7174e11e23e332184741839362c8}{lenovo\+\_\+wct\+\_\+node\+\_\+energy\+\_\+init} ()
\begin{DoxyCompactList}\small\item\em Specific functions for C\+PU XX P\+L\+A\+T\+F\+O\+RM YY Grants access to ipmi device. \end{DoxyCompactList}\item 
int \hyperlink{lenovo__sd650_8c_a2e2c6f8d9003a122714628076d74468b}{lenovo\+\_\+wct\+\_\+count\+\_\+energy\+\_\+data\+\_\+length} ()
\item 
int \hyperlink{lenovo__sd650_8c_a06ff6f3f942688696312e28e0d266ad9}{lenovo\+\_\+wct\+\_\+read\+\_\+dc\+\_\+energy} (unsigned long $\ast$\hyperlink{structenergy}{energy})
\item 
int \hyperlink{lenovo__sd650_8c_a35c78468344eef009712cde361a8a40a}{lenovo\+\_\+wct\+\_\+read\+\_\+ac\+\_\+energy} (unsigned long $\ast$\hyperlink{structenergy}{energy})
\begin{DoxyCompactList}\small\item\em AC energy is not yet supported. \end{DoxyCompactList}\item 
int \hyperlink{lenovo__sd650_8c_a679911d2188618b85afe17d6ad215e5b}{lenovo\+\_\+wct\+\_\+read\+\_\+dc\+\_\+energy\+\_\+and\+\_\+time} (\hyperlink{generic_8h_a718b4eb2652c286f4d42dc18a8e71a1a}{ulong} $\ast$\hyperlink{structenergy}{energy}, \hyperlink{generic_8h_a718b4eb2652c286f4d42dc18a8e71a1a}{ulong} $\ast$energy\+\_\+mj, \hyperlink{generic_8h_a718b4eb2652c286f4d42dc18a8e71a1a}{ulong} $\ast$seconds, \hyperlink{generic_8h_a718b4eb2652c286f4d42dc18a8e71a1a}{ulong} $\ast$ms)
\begin{DoxyCompactList}\small\item\em Energy and time is returned in a single ipmi command. \end{DoxyCompactList}\item 
int \hyperlink{lenovo__sd650_8c_a33cf3c6dc98aedddf21288df33b435cd}{lenovo\+\_\+wct\+\_\+read\+\_\+dc\+\_\+energy\+\_\+time} (\hyperlink{generic_8h_a718b4eb2652c286f4d42dc18a8e71a1a}{ulong} $\ast$energy\+\_\+mj, \hyperlink{generic_8h_a718b4eb2652c286f4d42dc18a8e71a1a}{ulong} $\ast$ms)
\begin{DoxyCompactList}\small\item\em Energy and time is returned in a single ipmi command. \end{DoxyCompactList}\item 
int \hyperlink{lenovo__sd650_8c_a444a600fd395e7a755933a71daff6580}{lenovo\+\_\+wct\+\_\+node\+\_\+energy\+\_\+dispose} ()
\begin{DoxyCompactList}\small\item\em Release access to ipmi device. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{lenovo\+\_\+sd650.\+c@{lenovo\+\_\+sd650.\+c}!F\+U\+N\+C\+V\+E\+RB@{F\+U\+N\+C\+V\+E\+RB}}
\index{F\+U\+N\+C\+V\+E\+RB@{F\+U\+N\+C\+V\+E\+RB}!lenovo\+\_\+sd650.\+c@{lenovo\+\_\+sd650.\+c}}
\subsubsection[{\texorpdfstring{F\+U\+N\+C\+V\+E\+RB}{FUNCVERB}}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\+U\+N\+C\+V\+E\+RB(
\begin{DoxyParamCaption}
\item[{}]{function}
\end{DoxyParamCaption}
)~{\bf ear\+\_\+debug}(4, \char`\"{}ear\+\_\+daemon(lenovo\+\_\+wct) \char`\"{} function \char`\"{}\textbackslash{}n\char`\"{});}\hypertarget{lenovo__sd650_8c_a77dc17cadd125b543f535000905ec2cc}{}\label{lenovo__sd650_8c_a77dc17cadd125b543f535000905ec2cc}
\index{lenovo\+\_\+sd650.\+c@{lenovo\+\_\+sd650.\+c}!I\+P\+M\+I\+\_\+\+R\+A\+W\+\_\+\+M\+A\+X\+\_\+\+A\+R\+GS@{I\+P\+M\+I\+\_\+\+R\+A\+W\+\_\+\+M\+A\+X\+\_\+\+A\+R\+GS}}
\index{I\+P\+M\+I\+\_\+\+R\+A\+W\+\_\+\+M\+A\+X\+\_\+\+A\+R\+GS@{I\+P\+M\+I\+\_\+\+R\+A\+W\+\_\+\+M\+A\+X\+\_\+\+A\+R\+GS}!lenovo\+\_\+sd650.\+c@{lenovo\+\_\+sd650.\+c}}
\subsubsection[{\texorpdfstring{I\+P\+M\+I\+\_\+\+R\+A\+W\+\_\+\+M\+A\+X\+\_\+\+A\+R\+GS}{IPMI_RAW_MAX_ARGS}}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\+P\+M\+I\+\_\+\+R\+A\+W\+\_\+\+M\+A\+X\+\_\+\+A\+R\+GS~(1024)}\hypertarget{lenovo__sd650_8c_a0277c35dc57f61c36bc90ca72d0f5961}{}\label{lenovo__sd650_8c_a0277c35dc57f61c36bc90ca72d0f5961}
\index{lenovo\+\_\+sd650.\+c@{lenovo\+\_\+sd650.\+c}!R\+A\+W\+\_\+\+S\+I\+ZE@{R\+A\+W\+\_\+\+S\+I\+ZE}}
\index{R\+A\+W\+\_\+\+S\+I\+ZE@{R\+A\+W\+\_\+\+S\+I\+ZE}!lenovo\+\_\+sd650.\+c@{lenovo\+\_\+sd650.\+c}}
\subsubsection[{\texorpdfstring{R\+A\+W\+\_\+\+S\+I\+ZE}{RAW_SIZE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define R\+A\+W\+\_\+\+S\+I\+ZE~14}\hypertarget{lenovo__sd650_8c_aec3315249575e40a4280d5070053e66f}{}\label{lenovo__sd650_8c_aec3315249575e40a4280d5070053e66f}
\index{lenovo\+\_\+sd650.\+c@{lenovo\+\_\+sd650.\+c}!R\+A\+W\+\_\+\+S\+I\+ZE@{R\+A\+W\+\_\+\+S\+I\+ZE}}
\index{R\+A\+W\+\_\+\+S\+I\+ZE@{R\+A\+W\+\_\+\+S\+I\+ZE}!lenovo\+\_\+sd650.\+c@{lenovo\+\_\+sd650.\+c}}
\subsubsection[{\texorpdfstring{R\+A\+W\+\_\+\+S\+I\+ZE}{RAW_SIZE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define R\+A\+W\+\_\+\+S\+I\+ZE~14}\hypertarget{lenovo__sd650_8c_aec3315249575e40a4280d5070053e66f}{}\label{lenovo__sd650_8c_aec3315249575e40a4280d5070053e66f}


\subsection{Function Documentation}
\index{lenovo\+\_\+sd650.\+c@{lenovo\+\_\+sd650.\+c}!lenovo\+\_\+wct\+\_\+count\+\_\+energy\+\_\+data\+\_\+length@{lenovo\+\_\+wct\+\_\+count\+\_\+energy\+\_\+data\+\_\+length}}
\index{lenovo\+\_\+wct\+\_\+count\+\_\+energy\+\_\+data\+\_\+length@{lenovo\+\_\+wct\+\_\+count\+\_\+energy\+\_\+data\+\_\+length}!lenovo\+\_\+sd650.\+c@{lenovo\+\_\+sd650.\+c}}
\subsubsection[{\texorpdfstring{lenovo\+\_\+wct\+\_\+count\+\_\+energy\+\_\+data\+\_\+length()}{lenovo_wct_count_energy_data_length()}}]{\setlength{\rightskip}{0pt plus 5cm}int lenovo\+\_\+wct\+\_\+count\+\_\+energy\+\_\+data\+\_\+length (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{lenovo__sd650_8c_a2e2c6f8d9003a122714628076d74468b}{}\label{lenovo__sd650_8c_a2e2c6f8d9003a122714628076d74468b}
\index{lenovo\+\_\+sd650.\+c@{lenovo\+\_\+sd650.\+c}!lenovo\+\_\+wct\+\_\+node\+\_\+energy\+\_\+dispose@{lenovo\+\_\+wct\+\_\+node\+\_\+energy\+\_\+dispose}}
\index{lenovo\+\_\+wct\+\_\+node\+\_\+energy\+\_\+dispose@{lenovo\+\_\+wct\+\_\+node\+\_\+energy\+\_\+dispose}!lenovo\+\_\+sd650.\+c@{lenovo\+\_\+sd650.\+c}}
\subsubsection[{\texorpdfstring{lenovo\+\_\+wct\+\_\+node\+\_\+energy\+\_\+dispose()}{lenovo_wct_node_energy_dispose()}}]{\setlength{\rightskip}{0pt plus 5cm}int lenovo\+\_\+wct\+\_\+node\+\_\+energy\+\_\+dispose (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{lenovo__sd650_8c_a444a600fd395e7a755933a71daff6580}{}\label{lenovo__sd650_8c_a444a600fd395e7a755933a71daff6580}


Release access to ipmi device. 

\index{lenovo\+\_\+sd650.\+c@{lenovo\+\_\+sd650.\+c}!lenovo\+\_\+wct\+\_\+node\+\_\+energy\+\_\+init@{lenovo\+\_\+wct\+\_\+node\+\_\+energy\+\_\+init}}
\index{lenovo\+\_\+wct\+\_\+node\+\_\+energy\+\_\+init@{lenovo\+\_\+wct\+\_\+node\+\_\+energy\+\_\+init}!lenovo\+\_\+sd650.\+c@{lenovo\+\_\+sd650.\+c}}
\subsubsection[{\texorpdfstring{lenovo\+\_\+wct\+\_\+node\+\_\+energy\+\_\+init()}{lenovo_wct_node_energy_init()}}]{\setlength{\rightskip}{0pt plus 5cm}int lenovo\+\_\+wct\+\_\+node\+\_\+energy\+\_\+init (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{lenovo__sd650_8c_af4df7174e11e23e332184741839362c8}{}\label{lenovo__sd650_8c_af4df7174e11e23e332184741839362c8}


Specific functions for C\+PU XX P\+L\+A\+T\+F\+O\+RM YY Grants access to ipmi device. 

\index{lenovo\+\_\+sd650.\+c@{lenovo\+\_\+sd650.\+c}!lenovo\+\_\+wct\+\_\+read\+\_\+ac\+\_\+energy@{lenovo\+\_\+wct\+\_\+read\+\_\+ac\+\_\+energy}}
\index{lenovo\+\_\+wct\+\_\+read\+\_\+ac\+\_\+energy@{lenovo\+\_\+wct\+\_\+read\+\_\+ac\+\_\+energy}!lenovo\+\_\+sd650.\+c@{lenovo\+\_\+sd650.\+c}}
\subsubsection[{\texorpdfstring{lenovo\+\_\+wct\+\_\+read\+\_\+ac\+\_\+energy(unsigned long $\ast$energy)}{lenovo_wct_read_ac_energy(unsigned long *energy)}}]{\setlength{\rightskip}{0pt plus 5cm}int lenovo\+\_\+wct\+\_\+read\+\_\+ac\+\_\+energy (
\begin{DoxyParamCaption}
\item[{unsigned long $\ast$}]{energy}
\end{DoxyParamCaption}
)}\hypertarget{lenovo__sd650_8c_a35c78468344eef009712cde361a8a40a}{}\label{lenovo__sd650_8c_a35c78468344eef009712cde361a8a40a}


AC energy is not yet supported. 

\index{lenovo\+\_\+sd650.\+c@{lenovo\+\_\+sd650.\+c}!lenovo\+\_\+wct\+\_\+read\+\_\+dc\+\_\+energy@{lenovo\+\_\+wct\+\_\+read\+\_\+dc\+\_\+energy}}
\index{lenovo\+\_\+wct\+\_\+read\+\_\+dc\+\_\+energy@{lenovo\+\_\+wct\+\_\+read\+\_\+dc\+\_\+energy}!lenovo\+\_\+sd650.\+c@{lenovo\+\_\+sd650.\+c}}
\subsubsection[{\texorpdfstring{lenovo\+\_\+wct\+\_\+read\+\_\+dc\+\_\+energy(unsigned long $\ast$energy)}{lenovo_wct_read_dc_energy(unsigned long *energy)}}]{\setlength{\rightskip}{0pt plus 5cm}int lenovo\+\_\+wct\+\_\+read\+\_\+dc\+\_\+energy (
\begin{DoxyParamCaption}
\item[{unsigned long $\ast$}]{energy}
\end{DoxyParamCaption}
)}\hypertarget{lenovo__sd650_8c_a06ff6f3f942688696312e28e0d266ad9}{}\label{lenovo__sd650_8c_a06ff6f3f942688696312e28e0d266ad9}
\index{lenovo\+\_\+sd650.\+c@{lenovo\+\_\+sd650.\+c}!lenovo\+\_\+wct\+\_\+read\+\_\+dc\+\_\+energy\+\_\+and\+\_\+time@{lenovo\+\_\+wct\+\_\+read\+\_\+dc\+\_\+energy\+\_\+and\+\_\+time}}
\index{lenovo\+\_\+wct\+\_\+read\+\_\+dc\+\_\+energy\+\_\+and\+\_\+time@{lenovo\+\_\+wct\+\_\+read\+\_\+dc\+\_\+energy\+\_\+and\+\_\+time}!lenovo\+\_\+sd650.\+c@{lenovo\+\_\+sd650.\+c}}
\subsubsection[{\texorpdfstring{lenovo\+\_\+wct\+\_\+read\+\_\+dc\+\_\+energy\+\_\+and\+\_\+time(ulong $\ast$energy, ulong $\ast$energy\+\_\+mj, ulong $\ast$seconds, ulong $\ast$ms)}{lenovo_wct_read_dc_energy_and_time(ulong *energy, ulong *energy_mj, ulong *seconds, ulong *ms)}}]{\setlength{\rightskip}{0pt plus 5cm}int lenovo\+\_\+wct\+\_\+read\+\_\+dc\+\_\+energy\+\_\+and\+\_\+time (
\begin{DoxyParamCaption}
\item[{{\bf ulong} $\ast$}]{energy, }
\item[{{\bf ulong} $\ast$}]{energy\+\_\+mj, }
\item[{{\bf ulong} $\ast$}]{seconds, }
\item[{{\bf ulong} $\ast$}]{ms}
\end{DoxyParamCaption}
)}\hypertarget{lenovo__sd650_8c_a679911d2188618b85afe17d6ad215e5b}{}\label{lenovo__sd650_8c_a679911d2188618b85afe17d6ad215e5b}


Energy and time is returned in a single ipmi command. 

\index{lenovo\+\_\+sd650.\+c@{lenovo\+\_\+sd650.\+c}!lenovo\+\_\+wct\+\_\+read\+\_\+dc\+\_\+energy\+\_\+time@{lenovo\+\_\+wct\+\_\+read\+\_\+dc\+\_\+energy\+\_\+time}}
\index{lenovo\+\_\+wct\+\_\+read\+\_\+dc\+\_\+energy\+\_\+time@{lenovo\+\_\+wct\+\_\+read\+\_\+dc\+\_\+energy\+\_\+time}!lenovo\+\_\+sd650.\+c@{lenovo\+\_\+sd650.\+c}}
\subsubsection[{\texorpdfstring{lenovo\+\_\+wct\+\_\+read\+\_\+dc\+\_\+energy\+\_\+time(ulong $\ast$energy\+\_\+mj, ulong $\ast$ms)}{lenovo_wct_read_dc_energy_time(ulong *energy_mj, ulong *ms)}}]{\setlength{\rightskip}{0pt plus 5cm}int lenovo\+\_\+wct\+\_\+read\+\_\+dc\+\_\+energy\+\_\+time (
\begin{DoxyParamCaption}
\item[{{\bf ulong} $\ast$}]{energy\+\_\+mj, }
\item[{{\bf ulong} $\ast$}]{ms}
\end{DoxyParamCaption}
)}\hypertarget{lenovo__sd650_8c_a33cf3c6dc98aedddf21288df33b435cd}{}\label{lenovo__sd650_8c_a33cf3c6dc98aedddf21288df33b435cd}


Energy and time is returned in a single ipmi command. 


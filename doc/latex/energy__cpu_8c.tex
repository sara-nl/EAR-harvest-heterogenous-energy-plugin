\hypertarget{energy__cpu_8c}{}\section{src/metrics/papi/energy\+\_\+cpu.c File Reference}
\label{energy__cpu_8c}\index{src/metrics/papi/energy\+\_\+cpu.\+c@{src/metrics/papi/energy\+\_\+cpu.\+c}}
{\ttfamily \#include $<$papi.\+h$>$}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$common/ear\+\_\+verbose.\+h$>$}\\*
{\ttfamily \#include $<$common/states.\+h$>$}\\*
{\ttfamily \#include $<$metrics/papi/generics.\+h$>$}\\*
{\ttfamily \#include $<$metrics/papi/energy\+\_\+cpu.\+h$>$}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{energy__cpu_8c_aae6239501ab7912aea512343d942a125}{R\+A\+P\+L\+\_\+\+S\+E\+TS}~1
\item 
\#define \hyperlink{energy__cpu_8c_a7aa78dfca6f115c28f94acd94caba0be}{M\+A\+X\+\_\+\+R\+A\+P\+L\+\_\+\+E\+V\+E\+N\+TS}~64
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{energy__cpu_8c_a39f13d63c77b27b90821b2ff4c121965}{init\+\_\+rapl\+\_\+metrics} ()
\begin{DoxyCompactList}\small\item\em Initializes the P\+A\+PI library if needed and the \char`\"{}\+D\+R\+A\+M\+\_\+\+E\+N\+E\+R\+G\+Y\+:\+P\+A\+C\+K\+A\+G\+E0\char`\"{}, \char`\"{}\+D\+R\+A\+M\+\_\+\+E\+N\+E\+R\+G\+Y\+:\+P\+A\+C\+K\+A\+G\+E1\char`\"{}, \char`\"{}\+P\+A\+C\+K\+A\+G\+E\+\_\+\+E\+N\+E\+R\+G\+Y\+:\+P\+A\+C\+K\+A\+G\+E0\char`\"{}, \char`\"{}\+P\+A\+C\+K\+A\+G\+E\+\_\+\+E\+N\+E\+R\+G\+Y\+:\+P\+A\+C\+K\+A\+G\+E1\char`\"{} events. \end{DoxyCompactList}\item 
int \hyperlink{energy__cpu_8c_a226238b2627ee79bce0af129f4201d9a}{reset\+\_\+rapl\+\_\+metrics} ()
\begin{DoxyCompactList}\small\item\em Resets (zeroes) rapl events. \end{DoxyCompactList}\item 
int \hyperlink{energy__cpu_8c_a62f7f43156bd8ab34981922eaa653a2b}{start\+\_\+rapl\+\_\+metrics} ()
\begin{DoxyCompactList}\small\item\em Starts rapl events. \end{DoxyCompactList}\item 
int \hyperlink{energy__cpu_8c_a3bbaa0f195bdeacbdbe2516a341f8f36}{read\+\_\+rapl\+\_\+metrics} (unsigned long long $\ast$\+\_\+values)
\begin{DoxyCompactList}\small\item\em Reads rapl events and copies events values in values array. \end{DoxyCompactList}\item 
int \hyperlink{energy__cpu_8c_acb6b6273bbceb361792de61fe1b12d03}{stop\+\_\+rapl\+\_\+metrics} (unsigned long long $\ast$\+\_\+values)
\begin{DoxyCompactList}\small\item\em Stops rapl events and copies events values in values array. \end{DoxyCompactList}\item 
void \hyperlink{energy__cpu_8c_af45f9ddcce1911d0136fb49522cb5827}{print\+\_\+rapl\+\_\+metrics} ()
\begin{DoxyCompactList}\small\item\em Prints rapl metrics in the stderr. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
long long \hyperlink{energy__cpu_8c_adb760e2e8c51bcc04e7079963f62d3d2}{acum\+\_\+values} \mbox{[}\hyperlink{energy__cpu_8c_aae6239501ab7912aea512343d942a125}{R\+A\+P\+L\+\_\+\+S\+E\+TS}\mbox{]}\mbox{[}\hyperlink{energy__cpu_8h_a0fae267f56cd8810147814369b96749b}{R\+A\+P\+L\+\_\+\+E\+VS}\mbox{]}
\item 
long long \hyperlink{energy__cpu_8c_ab805d4eab86acb3d624dd5b16f94db88}{values} \mbox{[}\hyperlink{energy__cpu_8c_aae6239501ab7912aea512343d942a125}{R\+A\+P\+L\+\_\+\+S\+E\+TS}\mbox{]}\mbox{[}\hyperlink{energy__cpu_8h_a0fae267f56cd8810147814369b96749b}{R\+A\+P\+L\+\_\+\+E\+VS}\mbox{]}
\item 
int \hyperlink{energy__cpu_8c_a53a227b76e556508a02dc49bd37cffb4}{event\+\_\+sets} \mbox{[}\hyperlink{energy__cpu_8c_aae6239501ab7912aea512343d942a125}{R\+A\+P\+L\+\_\+\+S\+E\+TS}\mbox{]}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{energy\+\_\+cpu.\+c@{energy\+\_\+cpu.\+c}!M\+A\+X\+\_\+\+R\+A\+P\+L\+\_\+\+E\+V\+E\+N\+TS@{M\+A\+X\+\_\+\+R\+A\+P\+L\+\_\+\+E\+V\+E\+N\+TS}}
\index{M\+A\+X\+\_\+\+R\+A\+P\+L\+\_\+\+E\+V\+E\+N\+TS@{M\+A\+X\+\_\+\+R\+A\+P\+L\+\_\+\+E\+V\+E\+N\+TS}!energy\+\_\+cpu.\+c@{energy\+\_\+cpu.\+c}}
\subsubsection[{\texorpdfstring{M\+A\+X\+\_\+\+R\+A\+P\+L\+\_\+\+E\+V\+E\+N\+TS}{MAX_RAPL_EVENTS}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+A\+X\+\_\+\+R\+A\+P\+L\+\_\+\+E\+V\+E\+N\+TS~64}\hypertarget{energy__cpu_8c_a7aa78dfca6f115c28f94acd94caba0be}{}\label{energy__cpu_8c_a7aa78dfca6f115c28f94acd94caba0be}
\index{energy\+\_\+cpu.\+c@{energy\+\_\+cpu.\+c}!R\+A\+P\+L\+\_\+\+S\+E\+TS@{R\+A\+P\+L\+\_\+\+S\+E\+TS}}
\index{R\+A\+P\+L\+\_\+\+S\+E\+TS@{R\+A\+P\+L\+\_\+\+S\+E\+TS}!energy\+\_\+cpu.\+c@{energy\+\_\+cpu.\+c}}
\subsubsection[{\texorpdfstring{R\+A\+P\+L\+\_\+\+S\+E\+TS}{RAPL_SETS}}]{\setlength{\rightskip}{0pt plus 5cm}\#define R\+A\+P\+L\+\_\+\+S\+E\+TS~1}\hypertarget{energy__cpu_8c_aae6239501ab7912aea512343d942a125}{}\label{energy__cpu_8c_aae6239501ab7912aea512343d942a125}


\subsection{Function Documentation}
\index{energy\+\_\+cpu.\+c@{energy\+\_\+cpu.\+c}!init\+\_\+rapl\+\_\+metrics@{init\+\_\+rapl\+\_\+metrics}}
\index{init\+\_\+rapl\+\_\+metrics@{init\+\_\+rapl\+\_\+metrics}!energy\+\_\+cpu.\+c@{energy\+\_\+cpu.\+c}}
\subsubsection[{\texorpdfstring{init\+\_\+rapl\+\_\+metrics()}{init_rapl_metrics()}}]{\setlength{\rightskip}{0pt plus 5cm}int init\+\_\+rapl\+\_\+metrics (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{energy__cpu_8c_a39f13d63c77b27b90821b2ff4c121965}{}\label{energy__cpu_8c_a39f13d63c77b27b90821b2ff4c121965}


Initializes the P\+A\+PI library if needed and the \char`\"{}\+D\+R\+A\+M\+\_\+\+E\+N\+E\+R\+G\+Y\+:\+P\+A\+C\+K\+A\+G\+E0\char`\"{}, \char`\"{}\+D\+R\+A\+M\+\_\+\+E\+N\+E\+R\+G\+Y\+:\+P\+A\+C\+K\+A\+G\+E1\char`\"{}, \char`\"{}\+P\+A\+C\+K\+A\+G\+E\+\_\+\+E\+N\+E\+R\+G\+Y\+:\+P\+A\+C\+K\+A\+G\+E0\char`\"{}, \char`\"{}\+P\+A\+C\+K\+A\+G\+E\+\_\+\+E\+N\+E\+R\+G\+Y\+:\+P\+A\+C\+K\+A\+G\+E1\char`\"{} events. 

Returns 0 on success and -\/1 on error. \index{energy\+\_\+cpu.\+c@{energy\+\_\+cpu.\+c}!print\+\_\+rapl\+\_\+metrics@{print\+\_\+rapl\+\_\+metrics}}
\index{print\+\_\+rapl\+\_\+metrics@{print\+\_\+rapl\+\_\+metrics}!energy\+\_\+cpu.\+c@{energy\+\_\+cpu.\+c}}
\subsubsection[{\texorpdfstring{print\+\_\+rapl\+\_\+metrics()}{print_rapl_metrics()}}]{\setlength{\rightskip}{0pt plus 5cm}void print\+\_\+rapl\+\_\+metrics (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{energy__cpu_8c_af45f9ddcce1911d0136fb49522cb5827}{}\label{energy__cpu_8c_af45f9ddcce1911d0136fb49522cb5827}


Prints rapl metrics in the stderr. 

Returns 0 on success and -\/1 on error. \index{energy\+\_\+cpu.\+c@{energy\+\_\+cpu.\+c}!read\+\_\+rapl\+\_\+metrics@{read\+\_\+rapl\+\_\+metrics}}
\index{read\+\_\+rapl\+\_\+metrics@{read\+\_\+rapl\+\_\+metrics}!energy\+\_\+cpu.\+c@{energy\+\_\+cpu.\+c}}
\subsubsection[{\texorpdfstring{read\+\_\+rapl\+\_\+metrics(unsigned long long $\ast$\+\_\+values)}{read_rapl_metrics(unsigned long long *_values)}}]{\setlength{\rightskip}{0pt plus 5cm}int read\+\_\+rapl\+\_\+metrics (
\begin{DoxyParamCaption}
\item[{unsigned long long $\ast$}]{\+\_\+values}
\end{DoxyParamCaption}
)}\hypertarget{energy__cpu_8c_a3bbaa0f195bdeacbdbe2516a341f8f36}{}\label{energy__cpu_8c_a3bbaa0f195bdeacbdbe2516a341f8f36}


Reads rapl events and copies events values in values array. 

Returns 0 on success and -\/1 on error. \index{energy\+\_\+cpu.\+c@{energy\+\_\+cpu.\+c}!reset\+\_\+rapl\+\_\+metrics@{reset\+\_\+rapl\+\_\+metrics}}
\index{reset\+\_\+rapl\+\_\+metrics@{reset\+\_\+rapl\+\_\+metrics}!energy\+\_\+cpu.\+c@{energy\+\_\+cpu.\+c}}
\subsubsection[{\texorpdfstring{reset\+\_\+rapl\+\_\+metrics()}{reset_rapl_metrics()}}]{\setlength{\rightskip}{0pt plus 5cm}int reset\+\_\+rapl\+\_\+metrics (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{energy__cpu_8c_a226238b2627ee79bce0af129f4201d9a}{}\label{energy__cpu_8c_a226238b2627ee79bce0af129f4201d9a}


Resets (zeroes) rapl events. 

Returns 0 on success and -\/1 on error. \index{energy\+\_\+cpu.\+c@{energy\+\_\+cpu.\+c}!start\+\_\+rapl\+\_\+metrics@{start\+\_\+rapl\+\_\+metrics}}
\index{start\+\_\+rapl\+\_\+metrics@{start\+\_\+rapl\+\_\+metrics}!energy\+\_\+cpu.\+c@{energy\+\_\+cpu.\+c}}
\subsubsection[{\texorpdfstring{start\+\_\+rapl\+\_\+metrics()}{start_rapl_metrics()}}]{\setlength{\rightskip}{0pt plus 5cm}int start\+\_\+rapl\+\_\+metrics (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{energy__cpu_8c_a62f7f43156bd8ab34981922eaa653a2b}{}\label{energy__cpu_8c_a62f7f43156bd8ab34981922eaa653a2b}


Starts rapl events. 

Returns 0 on success and -\/1 on error. \index{energy\+\_\+cpu.\+c@{energy\+\_\+cpu.\+c}!stop\+\_\+rapl\+\_\+metrics@{stop\+\_\+rapl\+\_\+metrics}}
\index{stop\+\_\+rapl\+\_\+metrics@{stop\+\_\+rapl\+\_\+metrics}!energy\+\_\+cpu.\+c@{energy\+\_\+cpu.\+c}}
\subsubsection[{\texorpdfstring{stop\+\_\+rapl\+\_\+metrics(unsigned long long $\ast$\+\_\+values)}{stop_rapl_metrics(unsigned long long *_values)}}]{\setlength{\rightskip}{0pt plus 5cm}int stop\+\_\+rapl\+\_\+metrics (
\begin{DoxyParamCaption}
\item[{unsigned long long $\ast$}]{values}
\end{DoxyParamCaption}
)}\hypertarget{energy__cpu_8c_acb6b6273bbceb361792de61fe1b12d03}{}\label{energy__cpu_8c_acb6b6273bbceb361792de61fe1b12d03}


Stops rapl events and copies events values in values array. 

Returns 0 on success and -\/1 on error. 

\subsection{Variable Documentation}
\index{energy\+\_\+cpu.\+c@{energy\+\_\+cpu.\+c}!acum\+\_\+values@{acum\+\_\+values}}
\index{acum\+\_\+values@{acum\+\_\+values}!energy\+\_\+cpu.\+c@{energy\+\_\+cpu.\+c}}
\subsubsection[{\texorpdfstring{acum\+\_\+values}{acum_values}}]{\setlength{\rightskip}{0pt plus 5cm}long long acum\+\_\+values\mbox{[}{\bf R\+A\+P\+L\+\_\+\+S\+E\+TS}\mbox{]}\mbox{[}{\bf R\+A\+P\+L\+\_\+\+E\+VS}\mbox{]}}\hypertarget{energy__cpu_8c_adb760e2e8c51bcc04e7079963f62d3d2}{}\label{energy__cpu_8c_adb760e2e8c51bcc04e7079963f62d3d2}
\index{energy\+\_\+cpu.\+c@{energy\+\_\+cpu.\+c}!event\+\_\+sets@{event\+\_\+sets}}
\index{event\+\_\+sets@{event\+\_\+sets}!energy\+\_\+cpu.\+c@{energy\+\_\+cpu.\+c}}
\subsubsection[{\texorpdfstring{event\+\_\+sets}{event_sets}}]{\setlength{\rightskip}{0pt plus 5cm}int event\+\_\+sets\mbox{[}{\bf R\+A\+P\+L\+\_\+\+S\+E\+TS}\mbox{]}}\hypertarget{energy__cpu_8c_a53a227b76e556508a02dc49bd37cffb4}{}\label{energy__cpu_8c_a53a227b76e556508a02dc49bd37cffb4}
\index{energy\+\_\+cpu.\+c@{energy\+\_\+cpu.\+c}!values@{values}}
\index{values@{values}!energy\+\_\+cpu.\+c@{energy\+\_\+cpu.\+c}}
\subsubsection[{\texorpdfstring{values}{values}}]{\setlength{\rightskip}{0pt plus 5cm}long long values\mbox{[}{\bf R\+A\+P\+L\+\_\+\+S\+E\+TS}\mbox{]}\mbox{[}{\bf R\+A\+P\+L\+\_\+\+E\+VS}\mbox{]}}\hypertarget{energy__cpu_8c_ab805d4eab86acb3d624dd5b16f94db88}{}\label{energy__cpu_8c_ab805d4eab86acb3d624dd5b16f94db88}

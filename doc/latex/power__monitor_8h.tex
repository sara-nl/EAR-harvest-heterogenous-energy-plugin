\hypertarget{power__monitor_8h}{}\section{src/daemon/power\+\_\+monitor.h File Reference}
\label{power__monitor_8h}\index{src/daemon/power\+\_\+monitor.\+h@{src/daemon/power\+\_\+monitor.\+h}}
{\ttfamily \#include $<$common/types/application.\+h$>$}\\*
{\ttfamily \#include $<$metrics/power\+\_\+metrics/power\+\_\+metrics.\+h$>$}\\*
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structpowermon__app}{powermon\+\_\+app}
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{structpowermon__app}{powermon\+\_\+app} \hyperlink{power__monitor_8h_a0c338f8504224469cd258fdb3b08e9e6}{powermon\+\_\+app\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void $\ast$ \hyperlink{power__monitor_8h_a7b9c8e85e894a349259e65114f6acbb4}{eard\+\_\+power\+\_\+monitoring} (void $\ast$frequency\+\_\+monitoring)
\begin{DoxyCompactList}\small\item\em Periodically monitors the node power monitoring. \end{DoxyCompactList}\item 
void \hyperlink{power__monitor_8h_a379dfd87f6834f00fb67671ceadbde45}{powermon\+\_\+mpi\+\_\+init} (\hyperlink{application_8h_af0a524c43fc5f548021099181df194bf}{application\+\_\+t} $\ast$j)
\begin{DoxyCompactList}\small\item\em It must be called when E\+A\+R\+Lib contacts with E\+A\+RD. \end{DoxyCompactList}\item 
void \hyperlink{power__monitor_8h_a2ed1e139148946c236c0abd4825fb3fc}{powermon\+\_\+mpi\+\_\+finalize} ()
\begin{DoxyCompactList}\small\item\em It must be called when E\+A\+R\+Lib disconnects from E\+A\+RD. \end{DoxyCompactList}\item 
void \hyperlink{power__monitor_8h_ab4c08246aaa6d0519528ef84b506bbb0}{powermon\+\_\+new\+\_\+job} (\hyperlink{application_8h_af0a524c43fc5f548021099181df194bf}{application\+\_\+t} $\ast$j, \hyperlink{generic_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint} from\+\_\+mpi)
\begin{DoxyCompactList}\small\item\em It must be called at when job starts. \end{DoxyCompactList}\item 
void \hyperlink{power__monitor_8h_ad1595d16b24b9d79414132e21c391a6f}{powermon\+\_\+end\+\_\+job} (\hyperlink{generic_8h_aa17a8e6cdc1860741119dc46c1777778}{job\+\_\+id} jid, \hyperlink{generic_8h_aa17a8e6cdc1860741119dc46c1777778}{job\+\_\+id} sid)
\begin{DoxyCompactList}\small\item\em It must be called at when job ends. \end{DoxyCompactList}\item 
void \hyperlink{power__monitor_8h_acc095a70547300bd69bd6a2cf518ab8a}{powermon\+\_\+mpi\+\_\+signature} (\hyperlink{application_8h_af0a524c43fc5f548021099181df194bf}{application\+\_\+t} $\ast$\hyperlink{structapplication}{application})
\begin{DoxyCompactList}\small\item\em reports the application signature to the power\+\_\+monitoring module \end{DoxyCompactList}\item 
void \hyperlink{power__monitor_8h_a748f221a91e2c5660370f88e6cac5785}{powermon\+\_\+new\+\_\+max\+\_\+freq} (\hyperlink{generic_8h_a718b4eb2652c286f4d42dc18a8e71a1a}{ulong} maxf)
\begin{DoxyCompactList}\small\item\em if application is not mpi, automatically chages the node freq, it is called by dynamic\+\_\+configuration A\+PI \end{DoxyCompactList}\item 
void \hyperlink{power__monitor_8h_a90910d31d65acd75dc12cfa1013e8fa7}{powermon\+\_\+new\+\_\+def\+\_\+freq} (\hyperlink{generic_8h_a718b4eb2652c286f4d42dc18a8e71a1a}{ulong} def)
\begin{DoxyCompactList}\small\item\em if application is not mpi, automatically chages the node freq, it is called by dynamic\+\_\+configuration A\+PI \end{DoxyCompactList}\item 
void \hyperlink{power__monitor_8h_a3162f4f1cdc977ddeba57883d4d4a995}{powermon\+\_\+red\+\_\+freq} (\hyperlink{generic_8h_a718b4eb2652c286f4d42dc18a8e71a1a}{ulong} \hyperlink{learning__validate_8c_a67b5fc2af25178078dfc5b1bac08de32}{max\+\_\+freq}, \hyperlink{generic_8h_a718b4eb2652c286f4d42dc18a8e71a1a}{ulong} def\+\_\+freq)
\begin{DoxyCompactList}\small\item\em Reduces, temporally, the current freq (default and max) based on new values. \end{DoxyCompactList}\item 
void \hyperlink{power__monitor_8h_a4d66bf35f4988bcc0ccf317cff3332c2}{powermon\+\_\+set\+\_\+freq} (\hyperlink{generic_8h_a718b4eb2652c286f4d42dc18a8e71a1a}{ulong} freq)
\begin{DoxyCompactList}\small\item\em Sets temporally the default and max frequency to the same value. \end{DoxyCompactList}\item 
void \hyperlink{power__monitor_8h_a67cec9287ab45b90950f272bf99222a5}{powermon\+\_\+restore\+\_\+conf} ()
\begin{DoxyCompactList}\small\item\em Restores values from ear.\+conf (not reloads the file). \end{DoxyCompactList}\item 
void \hyperlink{power__monitor_8h_a27952ecafe4032b3a257aa06bba33a54}{powermon\+\_\+set\+\_\+th} (double th)
\begin{DoxyCompactList}\small\item\em Sets temporally the policy th. \end{DoxyCompactList}\item 
void \hyperlink{power__monitor_8h_acf32af572dde628d4f92bc7eb936bb06}{reset\+\_\+current\+\_\+app} ()
\begin{DoxyCompactList}\small\item\em Resets the current appl data. \end{DoxyCompactList}\item 
void \hyperlink{power__monitor_8h_a603c7d4e368589c18b5ae8e526559256}{copy\+\_\+powermon\+\_\+app} (\hyperlink{power__monitor_8h_a0c338f8504224469cd258fdb3b08e9e6}{powermon\+\_\+app\+\_\+t} $\ast$dest, \hyperlink{power__monitor_8h_a0c338f8504224469cd258fdb3b08e9e6}{powermon\+\_\+app\+\_\+t} $\ast$src)
\begin{DoxyCompactList}\small\item\em Copy src into dest. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Typedef Documentation}
\index{power\+\_\+monitor.\+h@{power\+\_\+monitor.\+h}!powermon\+\_\+app\+\_\+t@{powermon\+\_\+app\+\_\+t}}
\index{powermon\+\_\+app\+\_\+t@{powermon\+\_\+app\+\_\+t}!power\+\_\+monitor.\+h@{power\+\_\+monitor.\+h}}
\subsubsection[{\texorpdfstring{powermon\+\_\+app\+\_\+t}{powermon_app_t}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf powermon\+\_\+app} {\bf powermon\+\_\+app\+\_\+t}}\hypertarget{power__monitor_8h_a0c338f8504224469cd258fdb3b08e9e6}{}\label{power__monitor_8h_a0c338f8504224469cd258fdb3b08e9e6}


\subsection{Function Documentation}
\index{power\+\_\+monitor.\+h@{power\+\_\+monitor.\+h}!copy\+\_\+powermon\+\_\+app@{copy\+\_\+powermon\+\_\+app}}
\index{copy\+\_\+powermon\+\_\+app@{copy\+\_\+powermon\+\_\+app}!power\+\_\+monitor.\+h@{power\+\_\+monitor.\+h}}
\subsubsection[{\texorpdfstring{copy\+\_\+powermon\+\_\+app(powermon\+\_\+app\+\_\+t $\ast$dest, powermon\+\_\+app\+\_\+t $\ast$src)}{copy_powermon_app(powermon_app_t *dest, powermon_app_t *src)}}]{\setlength{\rightskip}{0pt plus 5cm}void copy\+\_\+powermon\+\_\+app (
\begin{DoxyParamCaption}
\item[{{\bf powermon\+\_\+app\+\_\+t} $\ast$}]{dest, }
\item[{{\bf powermon\+\_\+app\+\_\+t} $\ast$}]{src}
\end{DoxyParamCaption}
)}\hypertarget{power__monitor_8h_a603c7d4e368589c18b5ae8e526559256}{}\label{power__monitor_8h_a603c7d4e368589c18b5ae8e526559256}


Copy src into dest. 

\index{power\+\_\+monitor.\+h@{power\+\_\+monitor.\+h}!eard\+\_\+power\+\_\+monitoring@{eard\+\_\+power\+\_\+monitoring}}
\index{eard\+\_\+power\+\_\+monitoring@{eard\+\_\+power\+\_\+monitoring}!power\+\_\+monitor.\+h@{power\+\_\+monitor.\+h}}
\subsubsection[{\texorpdfstring{eard\+\_\+power\+\_\+monitoring(void $\ast$frequency\+\_\+monitoring)}{eard_power_monitoring(void *frequency_monitoring)}}]{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ eard\+\_\+power\+\_\+monitoring (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{frequency\+\_\+monitoring}
\end{DoxyParamCaption}
)}\hypertarget{power__monitor_8h_a7b9c8e85e894a349259e65114f6acbb4}{}\label{power__monitor_8h_a7b9c8e85e894a349259e65114f6acbb4}


Periodically monitors the node power monitoring. 


\begin{DoxyParams}{Parameters}
{\em frequency\+\_\+monitoring} & sample period expressed in usecs. It is dessigned to be executed by a thread \\
\hline
\end{DoxyParams}
\index{power\+\_\+monitor.\+h@{power\+\_\+monitor.\+h}!powermon\+\_\+end\+\_\+job@{powermon\+\_\+end\+\_\+job}}
\index{powermon\+\_\+end\+\_\+job@{powermon\+\_\+end\+\_\+job}!power\+\_\+monitor.\+h@{power\+\_\+monitor.\+h}}
\subsubsection[{\texorpdfstring{powermon\+\_\+end\+\_\+job(job\+\_\+id jid, job\+\_\+id sid)}{powermon_end_job(job_id jid, job_id sid)}}]{\setlength{\rightskip}{0pt plus 5cm}void powermon\+\_\+end\+\_\+job (
\begin{DoxyParamCaption}
\item[{{\bf job\+\_\+id}}]{jid, }
\item[{{\bf job\+\_\+id}}]{sid}
\end{DoxyParamCaption}
)}\hypertarget{power__monitor_8h_ad1595d16b24b9d79414132e21c391a6f}{}\label{power__monitor_8h_ad1595d16b24b9d79414132e21c391a6f}


It must be called at when job ends. 

\index{power\+\_\+monitor.\+h@{power\+\_\+monitor.\+h}!powermon\+\_\+mpi\+\_\+finalize@{powermon\+\_\+mpi\+\_\+finalize}}
\index{powermon\+\_\+mpi\+\_\+finalize@{powermon\+\_\+mpi\+\_\+finalize}!power\+\_\+monitor.\+h@{power\+\_\+monitor.\+h}}
\subsubsection[{\texorpdfstring{powermon\+\_\+mpi\+\_\+finalize()}{powermon_mpi_finalize()}}]{\setlength{\rightskip}{0pt plus 5cm}void powermon\+\_\+mpi\+\_\+finalize (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{power__monitor_8h_a2ed1e139148946c236c0abd4825fb3fc}{}\label{power__monitor_8h_a2ed1e139148946c236c0abd4825fb3fc}


It must be called when E\+A\+R\+Lib disconnects from E\+A\+RD. 

\index{power\+\_\+monitor.\+h@{power\+\_\+monitor.\+h}!powermon\+\_\+mpi\+\_\+init@{powermon\+\_\+mpi\+\_\+init}}
\index{powermon\+\_\+mpi\+\_\+init@{powermon\+\_\+mpi\+\_\+init}!power\+\_\+monitor.\+h@{power\+\_\+monitor.\+h}}
\subsubsection[{\texorpdfstring{powermon\+\_\+mpi\+\_\+init(application\+\_\+t $\ast$j)}{powermon_mpi_init(application_t *j)}}]{\setlength{\rightskip}{0pt plus 5cm}void powermon\+\_\+mpi\+\_\+init (
\begin{DoxyParamCaption}
\item[{{\bf application\+\_\+t} $\ast$}]{j}
\end{DoxyParamCaption}
)}\hypertarget{power__monitor_8h_a379dfd87f6834f00fb67671ceadbde45}{}\label{power__monitor_8h_a379dfd87f6834f00fb67671ceadbde45}


It must be called when E\+A\+R\+Lib contacts with E\+A\+RD. 

\index{power\+\_\+monitor.\+h@{power\+\_\+monitor.\+h}!powermon\+\_\+mpi\+\_\+signature@{powermon\+\_\+mpi\+\_\+signature}}
\index{powermon\+\_\+mpi\+\_\+signature@{powermon\+\_\+mpi\+\_\+signature}!power\+\_\+monitor.\+h@{power\+\_\+monitor.\+h}}
\subsubsection[{\texorpdfstring{powermon\+\_\+mpi\+\_\+signature(application\+\_\+t $\ast$application)}{powermon_mpi_signature(application_t *application)}}]{\setlength{\rightskip}{0pt plus 5cm}void powermon\+\_\+mpi\+\_\+signature (
\begin{DoxyParamCaption}
\item[{{\bf application\+\_\+t} $\ast$}]{application}
\end{DoxyParamCaption}
)}\hypertarget{power__monitor_8h_acc095a70547300bd69bd6a2cf518ab8a}{}\label{power__monitor_8h_acc095a70547300bd69bd6a2cf518ab8a}


reports the application signature to the power\+\_\+monitoring module 

\index{power\+\_\+monitor.\+h@{power\+\_\+monitor.\+h}!powermon\+\_\+new\+\_\+def\+\_\+freq@{powermon\+\_\+new\+\_\+def\+\_\+freq}}
\index{powermon\+\_\+new\+\_\+def\+\_\+freq@{powermon\+\_\+new\+\_\+def\+\_\+freq}!power\+\_\+monitor.\+h@{power\+\_\+monitor.\+h}}
\subsubsection[{\texorpdfstring{powermon\+\_\+new\+\_\+def\+\_\+freq(ulong def)}{powermon_new_def_freq(ulong def)}}]{\setlength{\rightskip}{0pt plus 5cm}void powermon\+\_\+new\+\_\+def\+\_\+freq (
\begin{DoxyParamCaption}
\item[{{\bf ulong}}]{def}
\end{DoxyParamCaption}
)}\hypertarget{power__monitor_8h_a90910d31d65acd75dc12cfa1013e8fa7}{}\label{power__monitor_8h_a90910d31d65acd75dc12cfa1013e8fa7}


if application is not mpi, automatically chages the node freq, it is called by dynamic\+\_\+configuration A\+PI 

\index{power\+\_\+monitor.\+h@{power\+\_\+monitor.\+h}!powermon\+\_\+new\+\_\+job@{powermon\+\_\+new\+\_\+job}}
\index{powermon\+\_\+new\+\_\+job@{powermon\+\_\+new\+\_\+job}!power\+\_\+monitor.\+h@{power\+\_\+monitor.\+h}}
\subsubsection[{\texorpdfstring{powermon\+\_\+new\+\_\+job(application\+\_\+t $\ast$j, uint from\+\_\+mpi)}{powermon_new_job(application_t *j, uint from_mpi)}}]{\setlength{\rightskip}{0pt plus 5cm}void powermon\+\_\+new\+\_\+job (
\begin{DoxyParamCaption}
\item[{{\bf application\+\_\+t} $\ast$}]{j, }
\item[{{\bf uint}}]{from\+\_\+mpi}
\end{DoxyParamCaption}
)}\hypertarget{power__monitor_8h_ab4c08246aaa6d0519528ef84b506bbb0}{}\label{power__monitor_8h_ab4c08246aaa6d0519528ef84b506bbb0}


It must be called at when job starts. 

\index{power\+\_\+monitor.\+h@{power\+\_\+monitor.\+h}!powermon\+\_\+new\+\_\+max\+\_\+freq@{powermon\+\_\+new\+\_\+max\+\_\+freq}}
\index{powermon\+\_\+new\+\_\+max\+\_\+freq@{powermon\+\_\+new\+\_\+max\+\_\+freq}!power\+\_\+monitor.\+h@{power\+\_\+monitor.\+h}}
\subsubsection[{\texorpdfstring{powermon\+\_\+new\+\_\+max\+\_\+freq(ulong maxf)}{powermon_new_max_freq(ulong maxf)}}]{\setlength{\rightskip}{0pt plus 5cm}void powermon\+\_\+new\+\_\+max\+\_\+freq (
\begin{DoxyParamCaption}
\item[{{\bf ulong}}]{maxf}
\end{DoxyParamCaption}
)}\hypertarget{power__monitor_8h_a748f221a91e2c5660370f88e6cac5785}{}\label{power__monitor_8h_a748f221a91e2c5660370f88e6cac5785}


if application is not mpi, automatically chages the node freq, it is called by dynamic\+\_\+configuration A\+PI 

\index{power\+\_\+monitor.\+h@{power\+\_\+monitor.\+h}!powermon\+\_\+red\+\_\+freq@{powermon\+\_\+red\+\_\+freq}}
\index{powermon\+\_\+red\+\_\+freq@{powermon\+\_\+red\+\_\+freq}!power\+\_\+monitor.\+h@{power\+\_\+monitor.\+h}}
\subsubsection[{\texorpdfstring{powermon\+\_\+red\+\_\+freq(ulong max\+\_\+freq, ulong def\+\_\+freq)}{powermon_red_freq(ulong max_freq, ulong def_freq)}}]{\setlength{\rightskip}{0pt plus 5cm}void powermon\+\_\+red\+\_\+freq (
\begin{DoxyParamCaption}
\item[{{\bf ulong}}]{max\+\_\+freq, }
\item[{{\bf ulong}}]{def\+\_\+freq}
\end{DoxyParamCaption}
)}\hypertarget{power__monitor_8h_a3162f4f1cdc977ddeba57883d4d4a995}{}\label{power__monitor_8h_a3162f4f1cdc977ddeba57883d4d4a995}


Reduces, temporally, the current freq (default and max) based on new values. 

If application is not mpi, automatically chages the node freq if needed

Reduces, temporally, the current freq (default and max) based on new values.

If application is not mpi, automatically chages the node freq if needed \index{power\+\_\+monitor.\+h@{power\+\_\+monitor.\+h}!powermon\+\_\+restore\+\_\+conf@{powermon\+\_\+restore\+\_\+conf}}
\index{powermon\+\_\+restore\+\_\+conf@{powermon\+\_\+restore\+\_\+conf}!power\+\_\+monitor.\+h@{power\+\_\+monitor.\+h}}
\subsubsection[{\texorpdfstring{powermon\+\_\+restore\+\_\+conf()}{powermon_restore_conf()}}]{\setlength{\rightskip}{0pt plus 5cm}void powermon\+\_\+restore\+\_\+conf (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{power__monitor_8h_a67cec9287ab45b90950f272bf99222a5}{}\label{power__monitor_8h_a67cec9287ab45b90950f272bf99222a5}


Restores values from ear.\+conf (not reloads the file). 

When application is not mpi, automatically chages the node freq if needed \index{power\+\_\+monitor.\+h@{power\+\_\+monitor.\+h}!powermon\+\_\+set\+\_\+freq@{powermon\+\_\+set\+\_\+freq}}
\index{powermon\+\_\+set\+\_\+freq@{powermon\+\_\+set\+\_\+freq}!power\+\_\+monitor.\+h@{power\+\_\+monitor.\+h}}
\subsubsection[{\texorpdfstring{powermon\+\_\+set\+\_\+freq(ulong freq)}{powermon_set_freq(ulong freq)}}]{\setlength{\rightskip}{0pt plus 5cm}void powermon\+\_\+set\+\_\+freq (
\begin{DoxyParamCaption}
\item[{{\bf ulong}}]{freq}
\end{DoxyParamCaption}
)}\hypertarget{power__monitor_8h_a4d66bf35f4988bcc0ccf317cff3332c2}{}\label{power__monitor_8h_a4d66bf35f4988bcc0ccf317cff3332c2}


Sets temporally the default and max frequency to the same value. 

When application is not mpi, automatically chages the node freq if needed \index{power\+\_\+monitor.\+h@{power\+\_\+monitor.\+h}!powermon\+\_\+set\+\_\+th@{powermon\+\_\+set\+\_\+th}}
\index{powermon\+\_\+set\+\_\+th@{powermon\+\_\+set\+\_\+th}!power\+\_\+monitor.\+h@{power\+\_\+monitor.\+h}}
\subsubsection[{\texorpdfstring{powermon\+\_\+set\+\_\+th(double th)}{powermon_set_th(double th)}}]{\setlength{\rightskip}{0pt plus 5cm}void powermon\+\_\+set\+\_\+th (
\begin{DoxyParamCaption}
\item[{double}]{th}
\end{DoxyParamCaption}
)}\hypertarget{power__monitor_8h_a27952ecafe4032b3a257aa06bba33a54}{}\label{power__monitor_8h_a27952ecafe4032b3a257aa06bba33a54}


Sets temporally the policy th. 

\index{power\+\_\+monitor.\+h@{power\+\_\+monitor.\+h}!reset\+\_\+current\+\_\+app@{reset\+\_\+current\+\_\+app}}
\index{reset\+\_\+current\+\_\+app@{reset\+\_\+current\+\_\+app}!power\+\_\+monitor.\+h@{power\+\_\+monitor.\+h}}
\subsubsection[{\texorpdfstring{reset\+\_\+current\+\_\+app()}{reset_current_app()}}]{\setlength{\rightskip}{0pt plus 5cm}void reset\+\_\+current\+\_\+app (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{power__monitor_8h_acf32af572dde628d4f92bc7eb936bb06}{}\label{power__monitor_8h_acf32af572dde628d4f92bc7eb936bb06}


Resets the current appl data. 


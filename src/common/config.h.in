/**************************************************************
*   Energy Aware Runtime (EAR)
*   This program is part of the Energy Aware Runtime (EAR).
*
*   EAR provides a dynamic, transparent and ligth-weigth solution for
*   Energy management.
*
*       It has been developed in the context of the Barcelona Supercomputing Center (BSC)-Lenovo Collaboration project.
*
*       Copyright (C) 2017
*   BSC Contact     mailto:ear-support@bsc.es
*   Lenovo contact  mailto:hpchelp@lenovo.com
*
*   EAR is free software; you can redistribute it and/or
*   modify it under the terms of the GNU Lesser General Public
*   License as published by the Free Software Foundation; either
*   version 2.1 of the License, or (at your option) any later version.
*
*   EAR is distributed in the hope that it will be useful,
*   but WITHOUT ANY WARRANTY; without even the implied warranty of
*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
*   Lesser General Public License for more details.
*
*   You should have received a copy of the GNU Lesser General Public
*   License along with EAR; if not, write to the Free Software
*   Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA
*   The GNU LEsser General Public License is contained in the file COPYING
*/

#include <linux/limits.h>

// Emergency paths
#define CPUPOWER_LIB_PATH   "@CPUPOWER_LIBDIR@"
#define FREEIPMI_LIB_PATH   "@FREEIPMI_LIBDIR@"
#define SLURM_LIB_PATH      "@SLURM_LIBDIR@"
#define PAPI_LIB_PATH       "@PAPI_LIBDIR@"
#define GSL_LIB_PATH        "@GSL_LIBDIR@"
#define EAR_INSTALL_PATH    "@prefix@"

// File names
#define EAR_DAEMON_PATH     "sbin/eard"
#define IMPI_C_LIB_PATH		"lib/libear.so"
#define IMPI_F_LIB_PATH		"lib/libearf.so"
#define OMPI_C_LIB_PATH		"lib/libear_ompi.so"
#define OMPI_F_LIB_PATH		"lib/libear_ompif.so"
#define EAR_CONF_FILE		"sysconf/ear.conf"

// Compile version type
#define BUILD_TYPE			@BUILD_TYPE@
#define DEVELOPMENT			0
#define DEBUG				1
#define RELEASE				2
#define RELEASE_LRZ			3

// Global max type sizes
#define SIZE_NAME			NAME_MAX + 1

#define BUILD(type) \
	type == BUILD_TYPE

// Database
#define DB_FILES			@DB_FILES@
#define DB_MYSQL			@DB_MYSQL@

// EARL Default values and configuration
#define EAR_BOOST
#define PERFORMANCE_GAIN 	0.75  	// minimum performance efficiency gain for min_time to solution power policy
#define EAR_ACCEPTED_TH 	0.05 	// Accepted th when comparing not discrete values , for instance power. 5% is allowed in this case
#define EAR_MIN_P_STATE 	3 		// Default p_state used with min_time_to_solution power policy
#define USE_TURBO			0 		// Turbo allowed or not. Turbo on is not supported in this version
#define RESET_FREQ			0		// Default frequency is reset between two consequtive loops or not. 0 means not reset
#define MAX_POWER_ERROR		0.05 	// used to configure the frequency for power measurements. Configure the min time between measurements to have a maximum % of error
#define MAX_DYNAIS_OVERHEAD	5 		// Maximum % of overhead allowed for dynais overhead. If overhead > MAX_DYNAIS_OVERHEAD dynais is set off after computing the first signature
#define EAR_OVERHEAD_CONTROL 1
#define MAX_TIME_DYNAIS_WITHOUT_SIGNATURE   30		// Maximum time, in seconds, EAR will run in dynais driven mode before going to periodic mode 
#define MPI_CALLS_TO_CHECK_PERIODIC         1000	// EAR will check periodically (every N mpi calls) 
#define PERIOD                              30		// Period (in seconds) to compute the signature used in periodic mode

#define EAR_PERFORMANCE_TESTS	0
#define MEASURE_DYNAIS_OV	0

// EARD default values and configuration
#define POWERMON_FREQ		30 		// Frequency for periodic power monitoring
#define DAEMON_PORT_NUMBER	50000 	// Default port used by the power monitoring

// EARGMD default values and configuration
#define DEFAULT_T1			60 		// Default period T1 used by the global mamager in seconds
#define DEFAULT_T2			600		// Default period T2 used by the global mamager in seconds. T2 should be multiple of T1
#define MAX_ENERGY			300 	// Energy limit (in Joules) consumed by the cluster during period T2
#define EARGM_PORT_NUMBER	60000	// Default port used by the global manager
#define DEFAULT_POWER       275
#define GRACE_T1			3

#define LARGE_CLUSTER		1		// This flag affects the data types and insertions into the DB
#define DB_SIMPLE			1
#define DEMO				0 		// Used when doing EAR demos. More information is reported
#define COEFFS_V3			1
#define APP_API				1
#define MIN_SIG_POWER                       100.0
#define MAX_SIG_POWER                       400.0


// EARDBD default values and configuration
#define EARDBD_TYPES        7

#define EAR_LIB_SYNC 1
#define COORDINATE_FREQUENCIES 0

//#define EAR_GUI
#define DYN_VERBOSE 2
#define SYSLOG_MSG 1

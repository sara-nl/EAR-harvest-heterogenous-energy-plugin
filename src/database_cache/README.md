Energy Aware Runtime: Database Daemon
-------------------------------------
The EAR Database Daemon (EARDBD) caches the records generated by the [EARL](../library/README.md) and [EARD](../daemon/README.md) in the system and report it to the centralized database. It is recommended to run several EARDBD daemons if the cluster is big enough, to reduce the number of inserts and connections to the database.

Also, EARDBD accumulates data during a period of time to decrease the total inserted data in the database, also helping the performance of big querys. By now just the energy metrics are available to accumulate in the new metric called energy aggregation.

Requirements
------------
EARDBD uses periodic power metrics sended by [EARD](../daemon/README.md), the per-node daemon, including job identification details (job id, step id when executed in a slurm system).

Configuration
--------------------------
The EAR Database Daemon uses the `$(ETC)/ear.conf` file to be configured. It can be dynamically configured by reloading the service.

```
# Fields related to the Database Daemon


```

Execution
---------
To execute this component, this `systemctl` command examples are provided:
- `sudo systemctl start eard` to start the EARDBD service.
- `sudo systemctl stop eard` to stop the EARDBD service.
- `sudo systemctl reload eard` to force to reload the configuration of the EARDBD service.

API
---
The Database Daemon offers a simple API (`eardbd_api.c`) to send by sockets metrics to the EARDBD daemon. The API just sends this data, which will be cached and stored in the database by a buffering technique.

License
-------
All the files in the EAR framework are under the LGPLv2.1 license. See the [COPYING](../../COPYING) file in the EAR root directory.

Energy Aware Runtime: Database Daemon
-------------------------------------
The EAR Database Daemon (EARDBD) caches the records generated by the [EARL](../library/README.md) and [EARD](../daemon/README.md) in the system and report it to the centralized database. Several EARDBD daemons will run in the cluster reducing the number of connections and messages to the database and providing aggregated metrics of some of the records.

Requirements
------------
EARDBD uses periodic power metrics sended by [EARD](../daemon/README.md), the per-node daemon, including job identification details (job id, step id when executed in a slurm system).

Configuration
--------------------------
The EAR Database Daemon uses the `$(ETC)/ear.conf` file to be configured. It can be dynamically configured by reloading the service.

```
# Fields related to the Database Daemon


```

Execution
---------
To execute this component, this `systemctl` command examples are provided:
- `sudo systemctl start eard` to start the EARDBD service.
- `sudo systemctl stop eard` to stop the EARDBD service.
- `sudo systemctl reload eard` to force to reload the configuration of the EARDBD service.

API
---
The Database Daemon offers a simple API (`eardbd_api.c`) to be notified about a metric or event of a node. The API just sends this data, which will be cached and stored in the database by a buffering technique, reducing the cluster resource utilization.
It uses sockets to transfer the data, allowing to the administrator to select both TCP or UDP protocols. UDP is not recommended because it can add too much mess to the EARDBD synchronization.

License
-------
All the files in the EAR framework are under the LGPLv2.1 license. See the [COPYING](../../COPYING) file in the EAR root directory.
